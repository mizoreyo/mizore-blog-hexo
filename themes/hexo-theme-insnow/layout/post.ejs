<main class="main-body">
  <%- js('scripts/catalogs-switch.js') %>
  <div class="catalogs-container">
    <div class="cata-fold-switch-container">
      <div class="cata-fold-switch">
        <i class="iconfont icon-liebiao-01" onclick="switchCatalogs()"></i>
      </div>
    </div>
    <% 
      function getCatalogsHeight(str) {
        const regex = /<\/li>/g
        const result = str.match(regex)
        if(result===null) {
          return 0
        } else {
          return result.length
        }
      }
    %>
    <div data-whole-height="<%= 1+2*getCatalogsHeight(toc(page.content)) %>rem" class="toc-container"
      style="height: 0;">
      <%- toc(page.content) %>
    </div>
  </div>
  <div class="article-header">
    <h1 class="article-title"><%- page.title %></h1>
    <div class="article-details">
      <div class="article-post-date"><span>Posted at </span> <%- page.date.format('YYYY-MM-DD') %></div>
      <div class="article-tags">
        <% page.tags.each(function(tag){ %>
        <a href="#">#<%= tag.name %></a>
        <% }) %>
      </div>
    </div>
  </div>
  <%- partial('_partial/article') %>
</main>