---
title: 用最少数量的箭引爆气球
date: 2022-07-22 10:20:37
tags: 
  - 贪心
categories:
  - 刷题
---

有一些球形气球贴在一堵用 XY 平面表示的墙面上。墙面上的气球记录在整数数组 `points` ，其中`points[i] = [xstart, xend]` 表示水平直径在 `xstart` 和 `xend`之间的气球。你不知道气球的确切 y 坐标。

一支弓箭可以沿着 x 轴从不同点 **完全垂直** 地射出。在坐标 `x` 处射出一支箭，若有一个气球的直径的开始和结束坐标为 `x``start`，`x``end`， 且满足 `xstart ≤ x ≤ x``end`，则该气球会被 **引爆** 。可以射出的弓箭的数量 **没有限制** 。 弓箭一旦被射出之后，可以无限地前进。

给你一个数组 `points` ，*返回引爆所有气球所必须射出的 **最小** 弓箭数* 。

### 示例

**输入：**points = [[10,16],[2,8],[1,6],[7,12]] 

**输出：**2 

**解释：**气球可以用2支箭来爆破: 

- 在x = 6处射出箭，击破气球[2,8]和[1,6]。 

- 在x = 11处发射箭，击破气球[10,16]和[7,12]。

### 思路

先将数组排序，使气球重叠，按开始位置排序或结束位置排序都可以，只是遍历顺序会不一样，这里按开始位置排序。

![image-20220722103443149](https://s2.loli.net/2022/07/22/d1Kvs582HjmrktE.png)

首先击破气球1肯定需要1支箭。

遍历到气球2时，发现与气球1重叠，所以击破气球1和气球2只需要1支箭，此时不需要增加箭。

遍历到气球3时，要判断是否需要增加箭，就要判断是否和前面重叠的区域重叠，气球3可以从气球1的右边界知道并不重叠，箭需要增加，但是如果前边重叠的气球太多了的话，如何知道要和前边第几个气球的右边界比呢？所以需要前一个气球能够给此气球传达重叠区域边界信息。实现也很简单，只需要每次发现与前边重叠时，将自己的右边界置为重叠区域的边界，这样下一个气球只需要和自己的右边界比较就能知道是否和重叠区域重叠了。

![image-20220722104557339](https://s2.loli.net/2022/07/22/EU342h5dYczP69S.png)

需要注意的是，假如气球2右边界是小于气球1的边界的，很显然重叠区域的右边界为气球2的右边界，所以气球2右边界的值大小没有改变。

### 代码实现

~~~java
class Solution {
    public int findMinArrowShots(int[][] points) {
        //如果没有气球就不用射箭
        if(points.length==0)
            return 0;
        //以开始位置排序
        Arrays.sort(points, (o1,o2)->Integer.compare(o1[0],o2[0]));
        //System.out.println(Arrays.deepToString(points));
        //如果有气球则至少需要一支键
        int ans=1;
        for(int i=1;i<points.length;i++) {
            if(points[i][0]<=points[i-1][1]) {
                //与前面的重叠了，更新自己的边界使下一个知道重叠部分边界
                points[i][1]=Integer.min(points[i][1],points[i-1][1]);
            } else {
                //与前面的不重叠
                ans++;
            }
        }
        return ans;
    }
}
~~~

